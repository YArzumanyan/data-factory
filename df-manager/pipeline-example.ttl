@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix p-plan:  <http://purl.org/net/p-plan#> .
@prefix dcat:    <http://www.w3.org/ns/dcat#> .
@prefix prov:    <http://www.w3.org/ns/prov#> .
@prefix df:      <http://localhost:8080/ns/df#> .
@prefix pipe:    <urn:pipe:> .
@prefix step:    <urn:step:> .
@prefix var:     <urn:var:> .
@prefix ds:      <urn:ds:> .
@prefix pl:      <urn:pl:> .

# Pipeline resource
pipe:550e8400-e29b-41d4-a716-446655440000
    a                   p-plan:Plan ;
    dcterms:title       "Data Processing Pipeline" ;
    dcterms:description "A pipeline that processes data from CSV to JSON" .

# Variables
var:550e8400-e29b-41d4-a716-446655440001
    a                       p-plan:Variable ;
    dcterms:title           "Input CSV Data" ;
    p-plan:isVariableOfPlan pipe:550e8400-e29b-41d4-a716-446655440000 ;
    prov:specializationOf   ds:550e8400-e29b-41d4-a716-446655440000 .

var:550e8400-e29b-41d4-a716-446655440002
    a                       p-plan:Variable ;
    dcterms:title           "Processed Data" ;
    p-plan:isVariableOfPlan pipe:550e8400-e29b-41d4-a716-446655440000 .

var:550e8400-e29b-41d4-a716-446655440003
    a                       p-plan:Variable ;
    dcterms:title           "Output JSON Data" ;
    p-plan:isVariableOfPlan pipe:550e8400-e29b-41d4-a716-446655440000 .

# Steps
step:550e8400-e29b-41d4-a716-446655440001
    a                     p-plan:Step ;
    dcterms:title         "Process CSV Data" ;
    p-plan:isStepOfPlan   pipe:550e8400-e29b-41d4-a716-446655440000 ;
    df:usesPlugin         pl:550e8400-e29b-41d4-a716-446655440001 ;
    p-plan:hasInputVar    var:550e8400-e29b-41d4-a716-446655440001 ;
    p-plan:isOutputVarOf  var:550e8400-e29b-41d4-a716-446655440002 .

step:550e8400-e29b-41d4-a716-446655440002
    a                     p-plan:Step ;
    dcterms:title         "Convert to JSON" ;
    p-plan:isStepOfPlan   pipe:550e8400-e29b-41d4-a716-446655440000 ;
    df:usesPlugin         pl:550e8400-e29b-41d4-a716-446655440002 ;
    p-plan:hasInputVar    var:550e8400-e29b-41d4-a716-446655440002 ;
    p-plan:isOutputVarOf  var:550e8400-e29b-41d4-a716-446655440003 ;
    p-plan:isPrecededBy   step:550e8400-e29b-41d4-a716-446655440001 .